import random

# functions

def who_wins_function():
    who_wins = ""
    global player_score
    global ai_score
    # draw
    if player_choice == ai_choice:
        who_wins = "draw"
    # rock
    elif player_choice == "rock" and ai_choice == "paper":
        who_wins = "ai"
        ai_score += 1
    elif player_choice == "rock" and ai_choice == "scissors":
        who_wins = "player"
        player_score += 1
    # paper
    elif player_choice == "paper" and ai_choice == "rock":
        who_wins = "player"
        player_score += 1
    elif player_choice == "paper" and ai_choice == "scissors":
        who_wins = "ai"
        ai_score += 1
    # scissors
    elif player_choice == "scissors" and ai_choice == "rock":
        who_wins = "ai"
        ai_score += 1
    elif player_choice == "scissors" and ai_choice == "paper":
        who_wins = "player"
        player_score += 1

    # return the result
    return who_wins

def player_input():
    while True:
        global player_choice
        player_choice = input("Rock, paper or scissors   ").lower()
        if player_choice in moves:
            break
        else:
            print("Upss, maybe you have misspelled something. Options are: rock, paper or scissors")

def who_won_prints():
    print(f"Ai had {ai_choice}.\nYou chose {player_choice}")
    if who_wins == "draw":
        print("It's a draw")
    else:
        print(f"{who_wins.title()} wins this round")
    print(f"Score: Ai {ai_score}, Player {player_score}")
    print("")

# variables

player_choice = ""
moves = ["rock", "paper", "scissors"]
player_score = 0
ai_score = 0

# game loop

while player_score < 3 and ai_score < 3:
    ai_choice = random.choice(moves)

    player_input()

    who_wins = who_wins_function()

    who_won_prints()

# win conditions

if player_score > ai_score:
    print("Congrats, You have won!")
else:
    print("Not your day my friend. You have lost :(")
